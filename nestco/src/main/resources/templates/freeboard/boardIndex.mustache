{{>layouts/header}}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/css/boardIndex.css">
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script defer src="/js/boardIndex.js"></script>

<main>
    <h1 class="title">자유 게시판</h1>
    <div class="search-bar">
    <form action="/nestco/board" method="get">
        <input class="search" type="text" placeholder="검색어를 입력해주세요" name="searchKey" value="{{#serachKey}}{{searchKey}}{{/serachKey}}">
        <button class="search-button" type="submit">검색</button>
    </form>
        <button class="new-board" onclick="newBoard()">게시글 등록</button>
    </div>
    <div class="board-container">
        <div class="title">
            <p>순번</p>
            <p>제목</p>
            <p>작성자</p>
            <p>작성일</p>
            <p>조회수</p>
        </div>
        {{#boardList}}
        <div class="content">
            <p>{{id}}</p>
            <p><a href="/nestco/board/{{id}}">{{title}}</a></p>
            <p>{{uploader.nickname}}</p>
            <p>{{createDate}}</p>
            <p>{{readCount}}</p>
        </div>
        {{/boardList}}
    </div>
    <div class="box">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                {{#hasPrev}}
                    <li class="page-item">
                        <a class="page-link" href="/nestco/board?page={{firstPage}}{{#searchKey}}&searchKey={{searchKey}}{{/searchKey}}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {{/hasPrev}}
                {{#hasPrev}}
                    <li class="page-item">
                        <a class="page-link" href="/nestco/board?page={{prev}}{{#searchKey}}&searchKey={{searchKey}}{{/searchKey}}" aria-label="Next">
                        <span aria-hidden="true"><</span>
                        </a>
                    </li>
                {{/hasPrev}}
                {{#pageNumbers}}
                    <li class="page-item"><a class="page-link" href="/nestco/board?page={{.}}{{#searchKey}}&searchKey={{searchKey}}{{/searchKey}}">{{.}}</a></li>
                {{/pageNumbers}}
                {{#hasNext}}
                    <li class="page-item">
                        <a class="page-link" href="/nestco/board?page={{next}}{{#searchKey}}&searchKey={{searchKey}}{{/searchKey}}" aria-label="Next">
                        <span aria-hidden="true">></span>
                        </a>
                    </li>
                {{/hasNext}}
                {{#hasNext}}
                    <li class="page-item">
                        <a class="page-link" href="/nestco/board?page={{lastPage}}{{#searchKey}}&searchKey={{searchKey}}{{/searchKey}}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                {{/hasNext}}
            </ul>
        </nav>
    </div>
</main>
{{>layouts/footer}}